---
title:  "커스텀 어노테이션"
excerpt : "어노테이션 만들기"

categories:
  - Spring
tags:
  - Spring

toc: true
toc_sticky: true
 
date: 2022-09-30
last_modified_at: 2022-09-30

--- 


# 커스텀어노테이션
- 커스텀 어노테이션에 대해 알아보고 만들어 보자


# 커스텀 어노테이션이란?

- 프로그램에 관한 데이터를 제공하거나 코드에 정보를 추가할때 사용하는 것을 어노테이션이라고한다.
- 대표적인 어노테이션은 @Controller, @Service, @SpringBootApplication 등이있다.
- 위에 예시 어노테이션은 이미 만들어진 어노테이션이고, 직접 커스텀해서 어노테이션을 만들 수 있는데 이것을 커스텀 어노테이션이라고 한다.

## 커스텀 어노테이션 만들기

- 먼저 @interface를 추가하여 어노테이션으로 만들어준다.

```java

@Target({ElementType.METHOD}) // 1
@Retention(RetentionPolicy.RUNTIME) // 2
public @interface LogExclusion {

}

```

1. @Target()

- 어노테이션이 생성될수있는 위치를 지정하는 어노테이션이다.

- 메소드들과 기능

![image](https://user-images.githubusercontent.com/101306770/192918166-8fdb00d7-9b79-4900-b407-73d405c82f41.png)

- 로그를 제외하는 어노테이션은 메소드위에 선언하기떄문에 METHOD 로 지정했다.

2. @Retention

- 어노테이션이 언제까지 유효할지 정하는 어노테이션이다.

![image](https://user-images.githubusercontent.com/101306770/192918315-f7299c9c-4681-40ac-98c7-a78eae189ad5.png)

- 어플리케이션을 실행하는동안은 계속 유효해야 하기때문에 RUNTIME 로 지정해주었다.
- 앞으로 이 어노테이션을 사용하려면 @LogExclusion를 추가해주면 된다.


# 주의사항

- 어노테이션을 사용하면 코드가 간결해지기 때문에, 자칫하면 커스텀 어노테이션을 막무가내로 쓸수있다. 
- 어노테이션의 의도는 숨어있기 때문에 내부적으로 어떤 동작을 하게 되는지 명확하지 않다면 로직 플로우를 이해하기 어렵게 되고, 코드정리가 덜 되어 현재 사용되지 않고 있는 어노테이션들이 있더라도 쉽사리 누군가가 손을 대기 부담스러워하는 경우도 왕왕 봐왔습니다. 하물며 ‘커스텀’ 어노테이션은 그 부담을 가중시킵니다. 무분별한 어노테이션 추가가 당장의 작업 속도를 끌어올릴 순 있지만, 긴 관점에서 시의적절한 것인지를 공감할 수 있어야 합니다.

- 구성원간의 이해와 공감대가 선행돼야 합니다. 또한 커스텀 어노테이션은 플로우에 대한 컨텍스트를 담고 있기 때문에 용도와 목적에 맞게 작성하는 것이 중요합니다. 다른 말로, 이것 저것 할 수 있는 다기능으로 만들게 되면 해석이 어려워진다는 뜻입니다.

- 코드가 간결해진다는 장점 하나만 보고 어노테이션(특히 커스텀 어노테이션)을 남용하지 않게 주의해야하고, 어노테이션을 만들 때 이게 반드시 필요한 어노테이션이 맞는지 다시 한 번 확인하는 것도 중요한 것 같습니다.


# 참조 블로그

- https://shinsunyoung.tistory.com/83